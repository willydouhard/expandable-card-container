<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../expandable-card/expandable-card.html">

<dom-module id="expandable-card-container">
      <!--
      `expandable-card-container` is a component that handles mutltiple `expandable-card`

      Example:

      ```html
      <expandable-card-container cards="[[cards]]"></expandable-card-container>
      ```

      Where cards is an Array of Objects. Each object describes a `expandable-card`
      An `expandable-card` (in the expanded state) will fit the size of the `expandable-card-container`.
      If you want to set the geometry of the `expandable-card-container`, use `--container-mixin`.

      To be able to use `expandable-card-container` you will have to use `expandable-card`
      [expandable-card](https://customelements.io/willydouhard/expandable-card/)

      ### Styling
      The following custom properties and mixins are available for styling:
      Custom property | Description | Default
      ----------------|-------------|----------
      `--container-mixin` | Mixin applied to the container | `{}`
      @demo demo/index.html
      -->
      <template>
      <style>
      :host {
            display: flex;
            width: 100vw;
            height: 100vh;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: center;
            position: relative !important;
            @apply(--container-mixin);
      }

      #placeholder {
            display: none;
      }

      </style>
                  <expandable-card id="placeholder"></expandable-card>
                  <template is="dom-repeat" items="{{cards}}" as="card">
                       <expandable-card
                         retracted-title="[[card.retractedTitle]]"
                         retracted-content="[[card.retractedContent]]"
                         expanded-title="[[card.expandedTitle]]"
                         expanded-content="[[card.expandedContent]]">
                   </expandable-card>
                  </template>
            </template>

<script>
Polymer({
      is: 'expandable-card-container',
      properties: {
            cards: {
                  type: Array
            }
      },
      listeners: {
            "expanding": "_onExpand",
            "retracting": "_onRetract"
      },
      _onExpand: function(){
            this.$.placeholder.style.display = 'block';
      },
      _onRetract: function(){
            this.$.placeholder.style.display = 'none';
      }

});
</script>
</dom-module>
